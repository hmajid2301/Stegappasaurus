import { DecodeLSB } from "../../../src/services/steganography/LSB";

const imageData = [
  {
    expected: ["01011100", "01110101", "00110100", "00110001"],
    pixelData: [
      0,
      0,
      0,
      255,
      0,
      0,
      1,
      255,
      0,
      0,
      0,
      255,
      1,
      0,
      1,
      255,
      1,
      1,
      0,
      255,
      0,
      0,
      1,
      255,
      1,
      1,
      0,
      255,
      1,
      0,
      1,
      255,
      0,
      0,
      1,
      255,
      1,
      0,
      1,
      255,
      0,
      0,
      0,
      255,
      0,
      1,
      1,
      255,
      0,
      0,
      0,
      255,
      1,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255,
      0,
      0,
      0,
      255
    ]
  },
  {
    expected: [
      "01011100",
      "01110101",
      "00110001",
      "01100110",
      "00110110",
      "00110000",
      "00110000"
    ],
    pixelData: [
      254,
      254,
      220,
      255,
      254,
      254,
      221,
      255,
      255,
      255,
      220,
      255,
      255,
      254,
      221,
      255,
      255,
      255,
      220,
      255,
      254,
      254,
      221,
      255,
      255,
      255,
      220,
      255,
      255,
      254,
      221,
      255,
      254,
      254,
      221,
      255,
      255,
      254,
      220,
      255,
      254,
      255,
      220,
      255,
      255,
      255,
      220,
      255,
      254,
      255,
      221,
      255,
      254,
      254,
      220,
      255,
      255,
      255,
      220,
      255,
      255,
      255,
      220,
      255,
      254,
      254,
      221,
      255,
      255,
      254,
      220,
      255,
      254,
      254,
      220,
      255,
      254,
      255,
      221,
      255,
      254,
      254,
      220,
      255,
      254,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255,
      255,
      255,
      221,
      255
    ]
  },
  {
    expected: [
      "01011100",
      "01110101",
      "00110100",
      "00110001",
      "01011100",
      "01110101",
      "00110001",
      "01100110",
      "00110110",
      "00110000",
      "00110000"
    ],
    pixelData: [
      170,
      186,
      204,
      255,
      170,
      187,
      204,
      255,
      171,
      187,
      204,
      255,
      171,
      186,
      205,
      255,
      171,
      187,
      204,
      255,
      170,
      186,
      205,
      255,
      171,
      187,
      204,
      255,
      171,
      186,
      205,
      255,
      170,
      186,
      205,
      255,
      171,
      186,
      205,
      255,
      170,
      186,
      204,
      255,
      170,
      187,
      205,
      255,
      170,
      186,
      204,
      255,
      171,
      186,
      205,
      255,
      170,
      187,
      205,
      255,
      171,
      186,
      204,
      255,
      170,
      187,
      205,
      255,
      171,
      186,
      205,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      205,
      255,
      170,
      186,
      204,
      255,
      171,
      186,
      205,
      255,
      171,
      186,
      204,
      255,
      171,
      187,
      204,
      255,
      170,
      186,
      205,
      255,
      171,
      186,
      205,
      255,
      171,
      186,
      204,
      255,
      170,
      187,
      205,
      255,
      170,
      186,
      204,
      255,
      170,
      186,
      204,
      255,
      171,
      187,
      204,
      255,
      170,
      186,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255,
      170,
      187,
      204,
      255
    ]
  },
  {
    binaryMessage: [],
    expected: [],
    pixelData: []
  }
];

describe("LSB decode should", () => {
  test.each(imageData)("", ({ pixelData, expected }) => {
    const binaryMessage = new DecodeLSB().decode(pixelData);
    expect(binaryMessage).toEqual(expected);
  });
});
